{"version":3,"sources":["components/Home.js","App.js","serviceWorker.js","index.js"],"names":["RECORDS","gql","RecordDetail","useQuery","loading","error","data","record","map","id","orderPlant","orderUser","createdAt","className","key","username","name","price","description","Record","isManager","heading","USER_DETAILS","OTHER_PLANTS","MainList","manager","variables","localStorage","getItem","dataR","refetchR","refetch","useState","plants","setPlants","method","setMethod","userDetails","useEffect","otherPlants","onClick","e","target","value","cart","orderPlaced","CREATE_PLANT","AddPlantModal","props","useMutation","createplant","addPlant","a","cogoToast","success","onHide","warn","setTimeout","window","location","reload","Modal","size","aria-labelledby","centered","Header","closeButton","Title","Body","ref","node","required","type","preventDefault","LogoutMenu","history","useHistory","push","removeItem","React","modalShow","setModalShow","event","style","margin","fontSize","show","USER_LIST","ADD_TO_CART","ORDER_PLANT","REMOVE_FROM_CART","REMOVE_FROM_PLANT","Main","cartRemove","orderRemove","order","addCart","plantId","buy","cartremove","orderremove","photo","src","background","USER_CHECK","USER_CREATE","Login","password","newUsername","newPassword","newPassword1","mutate","createUser","setData","setError","isSignup","handleClick","setItem","tokenAuth","token","signUp","marginLeft","marginTop","marginBottom","VERIFY_TOKEN","Home","setLoggedIn","setLoading","verifyToken","setToken","tokenVerify","client","ApolloClient","uri","cache","InMemoryCache","App","exact","path","component","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.a549c8d5.chunk.js","sourcesContent":["import React , { useState, useEffect } from 'react';\nimport { useQuery,gql,useMutation } from '@apollo/client';\nimport './home.css';\nimport { useHistory } from 'react-router-dom';\nimport cogoToast from 'cogo-toast';\nimport Modal from \"react-bootstrap/Modal\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Menu, Item, MenuProvider } from 'react-contexify';\nimport 'react-contexify/dist/ReactContexify.min.css';\n\n\nconst RECORDS = gql`\n{\n    record {\n      id\n      createdAt\n      orderUser{\n        username\n        \n      }\n      orderPlant {\n        name\n        price\n        description\n      }\n    }\n  }\n`;\n\n\n\n\n const RecordDetail = () => {\n\n    const {loading, error, data } = useQuery(RECORDS);\n\n    if (loading) return <p> Loading </p>\n    if (error) return <p> error </p>\n    return data.record.map(({id , orderPlant, orderUser,createdAt}) => (\n        <>\n        <div className=\"main-card\" key={id}> \n            <div className='card-record'>\n                <div>\n                    <p> Ordered by user : <span>{orderUser.username}</span></p>\n                    <p>Plant Name : <span> {orderPlant.name}</span></p>\n                    <p>Plant price : <span>{orderPlant.price}</span> ₹</p>\n                    <p> Plant Description <span>{orderPlant.description}</span></p>\n                    <p> Created At : <span>{createdAt}</span></p>             \n                </div>\n            </div>         \n         </div>\n        </>\n    )\n   )\n}\n\nexport const Record = () => {\n\n    return (\n        <>\n        <Header isManager={false} heading = \" 📚 Records\"/>\n        <RecordDetail/>\n        </>\n    )\n\n}\n\nconst USER_DETAILS =gql`\n\nquery userDetails($username:String!){\n    userDetails(username:$username){\n      isManager\n      orderPlaced {\n        id\n        name\n        price\n        description\n        photo\n      }\n      cart {\n        id\n        name\n        price\n        description\n        photo\n      }\n    }\n  }`;\n\nconst OTHER_PLANTS = gql`\nquery otherPlants($username:String!){\n    otherPlants(username:$username){\n        id\n        name\n        price\n        description\n        photo\n    }\n  }\n`;\n\n\nconst MainList = () => {\n\n    const { data: dataR, refetch:refetchR } = useQuery(USER_DETAILS,{variables:{username:localStorage.getItem('username')}});\n    const { data, refetch} = useQuery(OTHER_PLANTS,{variables:{username:localStorage.getItem('username')}})\n    const [plants , setPlants ] = useState([]);\n    const [method , setMethod ] = useState(\"cart\");\n    let manager;\n    if(dataR){\n\n        manager = dataR.userDetails.isManager;\n        \n    } \n    const click =  (e) => {\n        refetch();\n        refetchR();\n        if(e.target.value === \"InCart\"){\n            setPlants(dataR.userDetails.cart)\n            setMethod(\"cart\")\n        }\n        else if(e.target.value === \"Buy\" ){\n            setPlants(dataR.userDetails.orderPlaced)\n            setMethod(\"buy\")\n\n        }\n        else if(e.target.value === \"other\"){\n            setPlants(data.otherPlants);\n            setMethod(\"other\")\n\n        }\n        else {\n            setPlants([]);\n        }\n         \n    }\n    useEffect(() => {\n    \n        if(data){\n            setPlants(data.otherPlants)\n        }\n\n    },[dataR])\n    return (\n        <>\n        <Header isManager={manager ? true: false} heading=\"🌿 Shop Plants\"></Header>\n        <div className=\"main-card\" key={true}>\n            <div className=\"sort-plants\">\n              <div>\n                <select name=\"methods\" id=\"plants\" onClick={click}>\n                    <option value=\"other\">Plants</option>\n                    <option value=\"Buy\"> Plants Buyed </option>\n                    <option value=\"InCart\"> Plants in Cart</option>\n                </select>        \n                </div>\n            </div> \n         <Main plants = {plants} method = {method}/>\n        </div>\n        </>\n\n    )\n\n\n}\n\n\nconst CREATE_PLANT = gql`\nmutation createPlant($name:String!,$price:Int!,$description:String!) {\n    createPlant(name:$name,price:$price,description:$description){\n      ok\n    }\n  }\n`;\n\n\nconst AddPlantModal = (props) => {\n\n    let name,price,description;\n\n    const [createplant] = useMutation(CREATE_PLANT);\n    const addPlant = async ({variables}) => {\n\n        try {\n            const data  = await createplant({variables})\n            cogoToast.success(\"Plant created successfully.\");\n            props.onHide();\n\n            \n        }\n        catch (e) {\n            cogoToast.warn(\"can't create plant\");\n            props.onHide();\n\n         }\n        setTimeout(function () {window.location.reload()},200);\n    }\n   \n\n\n    return (\n      <Modal\n        {...props}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n           Add Plant\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n         <div className='add-plant'>\n             <div>\n                 <label> Name: </label>\n            <input  \n                ref={node => {\n                name = node;\n                }} \n                name='text'\n                required\n                >\n            </input>\n             </div>\n             <div>\n                 <label> Price: </label>\n                 <input  \n                ref={node => {\n                price = node;\n                }} \n                name='text'\n                type='number'\n                required\n                >\n            </input>\n             </div>\n             <div>\n                 <label>Description: </label>\n                 <textarea\n                 required  \n                ref={node => {\n                description = node;\n                }} \n                >\n            </textarea>\n             </div>\n             <div>\n                 <input className=\"submit-addplant\" type=\"submit\"\n                 onClick = {e => {\n                    e.preventDefault();\n                    addPlant({variables: {name:name.value,price:price.value,description:description.value}});\n                    name.value = '';\n                    description.value = '';\n                    price.value ='';}}\n                ></input>\n             </div>\n         </div>\n        </Modal.Body>\n        \n      </Modal>\n    );\n  }\n\n  const LogoutMenu = () => {\n\n    const history = useHistory();\n\tconst onClick = () => {\n\n\t\tlocalStorage.removeItem('username')\n        localStorage.removeItem('token')\n        setTimeout(function () {window.location.reload()},100);\n\n\t}\n\n\treturn (\n\t\t<Menu id='menu_id' >\n        <Item onClick={(e) => {history.push('/records/')}}>Records</Item>\n        <Item onClick={onClick}>Logout</Item>\n      </Menu>\n\n\t)\n}\n\n\n\nconst Header = ({ isManager ,heading }) => {\n\n    const [modalShow, setModalShow] = React.useState(false);\n    const history = useHistory();\n    const username = localStorage.getItem('token') ? localStorage.getItem('username') : \"  \";\n\n\n    return (\n        <>\n        <div className='header'>\n             <h4>Dphi Nursery</h4>\n             <MenuProvider id=\"menu_id\" event=\"onClick\" style={{margin:\"1rem\"}}>\n             <p>\n              {username}\n             <LogoutMenu>\n              </LogoutMenu>\n            </p>\n            </MenuProvider>\n        </div>\n        <section className='menu'>\n            <div> <p style={{fontSize:'20px'}}>{heading}</p>  </div>\n            {isManager ? <div>\n                <button onClick={() => setModalShow(true)} > ➕ Add Plant</button>\n                <AddPlantModal\n                    show={modalShow}\n                    onHide={() => setModalShow(false)}\n                />\n                <button onClick={() => history.push('/records')} > 📚 Records </button>\n            </div> : \"  \" }\n\n        </section>\n        </>\n    );\n}\n\n\n\n\n\nconst USER_LIST = gql`\nquery {\n\tplants {\n    id\n    name\n    price\n    description\n    photo\n  }\n}\n`;\n\nconst ADD_TO_CART = gql`\nmutation addToCart($username:String!,$plantId:Int!) {\n    addToCart(username:$username,plantId:$plantId){\n      ok\n    }\n  }\n`;\n\nconst ORDER_PLANT =gql`\nmutation orderPlant($username:String!,$plantId:Int!) {\n    orderPlant(username:$username,plantId:$plantId){\n      ok\n    }\n  }\n`;\n\nconst REMOVE_FROM_CART = gql\n`mutation removeCart($username:String!,$plantId:Int!) {\n    removeCart(username:$username,plantId:$plantId){\n      ok\n    }\n  }\n`;\n\nconst REMOVE_FROM_PLANT =gql`\nmutation removePlant($username:String!,$plantId:Int!) {\n    removePlant(username:$username,plantId:$plantId){\n      ok\n    }\n  }\n`;\n\n\n\nconst Main = ({plants,method}) => {\n\n    const {loading, error , data } = useQuery(USER_LIST);\n    const [cart] = useMutation(ADD_TO_CART);\n    const [ cartRemove ] = useMutation(REMOVE_FROM_CART);\n    const [ orderRemove ] = useMutation(REMOVE_FROM_PLANT);\n    const [order] = useMutation(ORDER_PLANT);\n\n    let username = localStorage.getItem('username');\n\n    const addCart = async (e) => {\n\n        try {\n            const data  = await cart({variables:{username:localStorage.getItem('username'),plantId:e.target.id}})\n            cogoToast.success(\"Plant added to cart\");\n        }\n        catch (e) {\n            cogoToast.warn(\"can't add to cart\");\n         }\n    }\n    const buy = async(e) => {\n        try {\n            const data  = await order({variables:{username:localStorage.getItem('username'),plantId:e.target.id}})\n            cogoToast.success(\"Plant buyed\");\n        }\n        catch (e) {\n            cogoToast.warn(\"can't buy plant\");\n         }\n\n    }\n    const cartremove = async(e) => {\n        try {\n            const data  = await cartRemove({variables:{username:localStorage.getItem('username'),plantId:e.target.id}})\n            cogoToast.success(\"Plant removed from cart\");\n        }\n        catch (e) {\n            cogoToast.warn(\"can't remove plant\");\n         }\n    }\n\n    const orderremove = async(e) => {\n        try {\n            const data  = await orderRemove({variables:{username:localStorage.getItem('username'),plantId:e.target.id}})\n            cogoToast.success(\"Plant removed from buying..\");\n        }\n        catch (e) {\n            cogoToast.warn(\"can't remove plant from buying..\");\n        }\n    }\n\n    useEffect(() => {\n\n    },[plants,method])\n    \n    if(loading) return <p> Loading ..</p>\n    if(error) return <p> Error ..</p>\n    return plants.map(({ id , name, price, description, photo  }) => (\n    <>\n        <div className='card'  key={id}>\n                <img src=\"https://picsum.photos/id/1/200/300\" ></img>\n                    <div>\n                     <h3>{name}</h3> \n                     <p>price : {price} ₹ </p>\n                     <p>description : {description}</p>\n                     <div className='card-button'>\n                     {method === \"cart\" && method !== \"buy\" && method !==\"other\"? \n                     <>\n                     <a id ={id} style={{background:\"#a4a19a\"}} onClick = {(e) => {cartremove(e)}} >🛒Remove from Cart </a> \n                     <a id ={id} onClick = {(e) => {buy(e)}}>↗️ Buy </a> \n                     </>\n                     : \" \" }\n                     {method !== \"cart\" && method === \"buy\" && method !==\"other\"? \n                     <>\n                     <a id ={id} onClick = {(e) => {addCart(e)}}  >🛒Add to Cart </a> \n                     <a id ={id} onClick = {(e) => {orderremove(e)}}  style={{background:\"#a4a19a\"}} >↗️ Remove from Buyed </a> \n                     </>\n                     : \" \" }\n                     {method !== \"cart\" && method !== \"buy\" && method ===\"other\"? \n                     <>\n                     <a id ={id} onClick = {(e) => {addCart(e)}}  >🛒Add to Cart </a> \n                     <a id ={id} onClick = {(e) => {buy(e)}}>↗️ Buy </a> \n                     </>\n                     : \" \" }\n                     \n                     </div>\n                    </div>\n             </div>          \n        </>\n    ));\n}\n\n\n\n\nconst USER_CHECK = gql`\nmutation tokenAuth($username:String!,$password:String!){\n    tokenAuth(username:$username ,password:$password){\n      token\n    }\n  }`;\n\n\n\nconst USER_CREATE = gql`\nmutation createUser($username:String!,$password:String!) {\n    createUser(input: {\n      username:$username\n      password:$password\n    }) {\n      ok\n    }\n  }\n`\n\n\nconst Login = () => {\n\n    let username,password,newUsername,newPassword,newPassword1;\n    const history = useHistory();\n    const [mutate] = useMutation(USER_CHECK)\n    const [createUser] = useMutation(USER_CREATE)\n    const [data, setData] = useState()\n    const [error, setError] = useState()\n    const [signup , isSignup ] = useState(true);\n\n    const handleClick = async ({variables}) => {\n    try {\n        const data  = await mutate({variables})\n        localStorage.setItem('token', data.data.tokenAuth.token);\n        localStorage.setItem('username',variables.username) \n        setData(data);\n        cogoToast.success(\"Logging in...\");\n        setTimeout(function () {window.location.reload()},100);\n\n\n        \n    }\n    catch (e) {\n        setError(e);\n     }\n    }\n    const signUp = async ({variables}) => {\n        try {\n            const data  = await createUser({variables})\n            cogoToast.success(\n            <div>\n                <b>Account created ;)</b>\n                <div>Now login....</div>\n            </div>);\n            setTimeout(function () {window.location.reload()},100);\n            \n        }\n        catch (e) {\n            isSignup(false)\n         }\n        }\n\n    \n    useEffect(() => {\n        \n    },[])\n\n    return (\n        <>\n        <Header isManager={false} heading=\" \"/>\n        <div>\n        <div className=\"login-sign\">\n        <div>\n           <form className =\"login-form\">   <div>\n            <h3 > Login </h3>\n            <p className='error-login'>{error ? \" * Enter valid credentails\":\" \"}</p>\n            <label>Username: </label>\n            <input\n            ref={node => {\n                username = node;\n            }}\n            name= \"username\"\n            type=\"text\"\n            style={{marginLeft:'13px'}}\n            />\n            </div>\n            <div>\n                <label> Password:  </label>\n            <input\n            ref={node => {\n                password = node;\n            }}\n            name=\"password\"\n            type=\"password\"\n            style={{marginLeft:'16px'}}\n            />\n            </div>\n            <div><button className=\"btns\"  onClick = {e => {\n                e.preventDefault();\n                handleClick({variables: {username:username.value,password:password.value}});\n                username.value = '';\n                password.value = '';\n            }}type=\"submit\">Login</button></div>\n        </form>\n        </div>\n        <div> <h2> Or </h2></div>\n        <div>\n            <form>\n                <div className=\"sign-form\">\n                <h3 style={{marginTop:'1rem',marginBottom:'1rem',margin:'0'}}> Sign Up</h3>\n                <div>\n                <p className='error-login'>{signUp ? \" \":\" * Can't create account\"}</p>\n                <label>Username</label>    \n                    <input\n                    ref={node => {\n                        newUsername = node;\n                    }}\n                     style={{marginLeft:'65px'}}>\n                \n                     </input>\n                </div>\n                <div>\n                <label>Password</label>\n                    <input \n                    style={{marginLeft:'70px'}}\n                    ref={node => {\n                        newPassword1 = node;\n                    }}\n                    type=\"password\"\n                    >\n                    </input>\n                </div>\n                <div>\n                <label>Confirm Password </label>\n                    <input\n                    ref={node => {\n                        newPassword = node;\n                    }}\n                    style={{marginLeft:'11px'}}\n                    ></input>\n                </div>\n                <div><button className=\"btns\" type=\"submit\" onClick = {e => {\n                e.preventDefault();\n                signUp({variables: {username:newUsername.value,password:newPassword.value}});\n                newUsername.value = '';\n                newPassword.value = '';\n                newPassword1.value = '';\n                }}\n                >Sign Up</button>\n                </div>\n            </div>\n            \n            </form>\n        </div>\n        </div>\n    </div>\n    </>\n\n    )\n}\n\n\n\nconst VERIFY_TOKEN = gql`\nmutation verifyToken($token:String!){\n    verifyToken(token:$token){\n      payload\n    }\n  }\n`;\n\n\nconst Home = () => {\n\n    const [isloggedIn , setLoggedIn ] = useState(null);\n    const [loading, setLoading ] = useState();\n    const [verifyToken] = useMutation(VERIFY_TOKEN)\n    const [token , setToken ] = useState(localStorage.getItem('token') ? localStorage.getItem('token'):null)\n\n\n\n    const tokenVerify = async() => {\n        setLoading(true)\n        try {\n            setToken(localStorage.getItem('token'))\n            const data = await verifyToken({variables:{token:token}})\n            setLoggedIn(true);\n    \n        }\n        catch (e){\n            setLoggedIn(false);\n        }\n    \n    \n    }\n    \n    useEffect(() => {\n        if(token){\n            tokenVerify();\n        }\n        else {\n            setLoggedIn(false);\n        }\n        setLoading(false);\n        \n    },[]);\n\n\n    if (loading) return <p> Loading ..</p>\n    if (token) return  <MainList key={1}/>\n    return  <Login/>\n\n    \n\n}\n\nexport default Home;\n\n\n\n","import React from 'react';\nimport './App.css';\nimport { ApolloClient, InMemoryCache } from '@apollo/client';\nimport { ApolloProvider } from '@apollo/client';\nimport Home from './components/Home';\nimport {HashRouter as Router,Route} from 'react-router-dom';\nimport { Record } from './components/Home';\n\n\nconst client = new ApolloClient({\n  uri: 'https://dphi-nursery.herokuapp.com//graphql/',\n  cache: new InMemoryCache()\n});\n\nfunction App() {\n  return (\n    <Router>\n    <ApolloProvider client={client}>\n      <div className=\"App\">\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/records/\" component={Record} />\n      </div>\n    </ApolloProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}